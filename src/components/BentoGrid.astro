---
// BentoGrid.astro
---

<section class="bento-section">
    <div class="bento-wrapper">
        <div class="header-reveal reveal-on-scroll from-bottom">
            <h2 class="section-title">SYSTEM <span class="text-gradient">CAPABILITIES</span></h2>
            <p class="section-subtitle">Full-Spectrum Engineering & Cognitive Architectures</p>
        </div>

        <div class="bento-grid">
            
            <div class="bento-item item-fullstack reveal-on-scroll from-left">
                <div class="glow-border"></div>
                <div class="content">
                    <div class="card-header">
                        <div class="icon-label">● CORE SYSTEMS</div>
                        <span class="status">ONLINE</span>
                    </div>
                    <h3>Cognitive Full Stack</h3>
                    <p>Scalable architecture fused with private LLMs and neural automation.</p>
                    
                    <div class="tech-grid">
                        <div class="tech-category">
                            <span class="cat-title">INTERFACE</span>
                            <div class="tags">
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><circle cx="12" cy="12" r="3"/></svg> React</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2L2 19.777h20L12 2zm0 3.8L18.472 18H5.528L12 5.8z"/></svg> Next.js</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M2 12h20v2H2z"/></svg> TypeScript</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"/></svg> Astro</span>
                            </div>
                        </div>
                        <div class="tech-category">
                            <span class="cat-title">NEURAL BACKEND</span>
                            <div class="tags">
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2l-9.5 5.5v11L12 24l9.5-5.5v-11L12 2zm0 2.5l7 4.05-7 4.05-7-4.05 7-4.05zm-8 5.75l7 4.05v8.1l-7-4.05v-8.1zm16 8.1l-7 4.05v-8.1l7-4.05v8.1z"/></svg> Python</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"/></svg> Node.js</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm-1 15h2v-2h-2zm0-4h2V7h-2z"/></svg> OpenAI</span>
                                <span class="tech-tag"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.24 14.5L12 14.24 7.76 16.5l.8-4.71-3.42-3.33 4.73-.69L12 3.5l2.13 4.27 4.73.69-3.42 3.33.8 4.71z"/></svg> Pinecone</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bento-item item-mobile reveal-on-scroll from-right delay-1">
                <div class="glow-border"></div>
                <div class="content">
                    <div class="card-header">
                        <div class="icon-label">▲ MOBILE</div>
                    </div>
                    <h3>Hyper-Native Ecosystems</h3>
                    <p>Multi-platform deployment with 120fps organic performance.</p>

                    <div class="tech-list">
                        <div class="tech-row">
                            <span class="label"><svg class="list-icon" viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.8-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.5 1.3 0 2.52.88 3.31.88.78 0 2.26-1.09 3.81-1.09 1.28.02 2.45.66 3.16 1.71-.02.04-1.89 1.11-1.87 3.35.03 2.68 2.34 3.6 2.44 3.65-.05.24-.36 1.41-1.96 4.11zM13 3.5c.68-.83 1.14-1.99 1.01-3.15-1 .04-2.22.66-2.94 1.49-.64.73-1.2 1.9-1.05 3.03 1.11.09 2.25-.56 2.98-1.37z"/></svg> iOS Native</span>
                            <span class="value">SwiftUI</span>
                        </div>
                        <div class="tech-row">
                            <span class="label"><svg class="list-icon" viewBox="0 0 24 24"><path d="M17.5 18.5l-3-11h-3l-3 11h2.5l.6-2.5h3.8l.6 2.5h2.5zm-4.3-4.5l1.3-5.5 1.3 5.5h-2.6z"/></svg> Android</span>
                            <span class="value">Kotlin</span>
                        </div>
                        <div class="tech-row">
                            <span class="label"><svg class="list-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg> Hybrid</span>
                            <span class="value">React Native</span>
                        </div>
                        <div class="tech-row">
                            <span class="label"><svg class="list-icon" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/></svg> Web</span>
                            <span class="value">PWA / Workers</span>
                        </div>
                    </div>
                </div>
                <div class="visual-abstract"></div>
            </div>

            <div class="bento-item item-infra reveal-on-scroll from-left delay-2">
                <div class="glow-border"></div>
                <div class="content">
                    <div class="card-header">
                        <div class="icon-label">◆ NEXUS</div>
                    </div>
                    <h3>API & Cloud Infra</h3>
                    <div class="tags-cloud">
                        <span class="tech-tag">RESTful</span>
                        <span class="tech-tag">GraphQL</span>
                        <span class="tech-tag">AWS</span>
                        <span class="tech-tag">Docker</span>
                        <span class="tech-tag">Vercel</span>
                    </div>
                </div>
            </div>

            <div class="bento-item item-tools reveal-on-scroll from-right delay-3">
                <div class="glow-border"></div>
                <div class="content">
                    <div class="card-header">
                        <div class="icon-label">⚡ VELOCITY</div>
                    </div>
                    <h3>Modern Tooling</h3>
                    <div class="tags-cloud">
                        <span class="tech-tag">Vite</span>
                        <span class="tech-tag">Turborepo</span>
                        <span class="tech-tag">CI/CD</span>
                        <span class="tech-tag">Bun</span>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.15 };
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));
</script>

<style>
    /* --- ANIMACIONES DE ENSAMBLAJE --- */
    .reveal-on-scroll {
        opacity: 0;
        filter: blur(15px);
        transition: all 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
        will-change: opacity, transform, filter;
    }

    /* Reducimos la distancia en Desktop para evitar overflow lateral */
    .from-left { transform: translateX(-80px) scale(0.95); }
    .from-right { transform: translateX(80px) scale(0.95); }
    .from-bottom { transform: translateY(60px) scale(0.95); }

    .reveal-on-scroll.is-visible {
        opacity: 1;
        transform: translate(0) scale(1);
        filter: blur(0);
    }

    .delay-1 { transition-delay: 0.2s; }
    .delay-2 { transition-delay: 0.4s; }
    .delay-3 { transition-delay: 0.6s; }

    /* --- LAYOUT PRINCIPAL --- */
    .bento-section { 
        position: relative; 
        z-index: 20; 
        background-color: transparent; 
        width: 100%; 
        padding: 4rem 1rem;
        overflow: hidden; /* EVITA EL SCROLL LATERAL POR ANIMACIONES */
    }

    .bento-wrapper { max-width: 1200px; margin: 0 auto; }

    .section-title { 
        font-family: 'Outfit', sans-serif; 
        font-size: clamp(2.2rem, 5vw, 3.5rem); 
        font-weight: 700; 
        color: #fff; 
        line-height: 1.1;
    }

    /* GRID DESKTOP */
    .bento-grid { 
        display: grid; 
        grid-template-columns: repeat(3, 1fr); 
        grid-template-rows: repeat(2, 340px); 
        gap: 1.5rem; 
    }

    .item-fullstack { grid-column: span 2; }
    .item-mobile { grid-column: span 1; grid-row: span 2; }

    /* --- ESTILO DE LAS TARJETAS --- */
    .bento-item {
        position: relative;
        background: rgba(10, 10, 10, 0.65);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 1.8rem;
        backdrop-filter: blur(25px);
        display: flex;
        flex-direction: column;
        transition: border-color 0.3s ease, transform 0.3s ease;
    }

    .bento-item.is-visible:hover { border-color: rgba(56, 189, 248, 0.4); }

    h3 { font-family: 'Outfit', sans-serif; font-size: 1.5rem; color: #f1f5f9; margin-bottom: 0.5rem; }
    p { font-size: 0.9rem; color: #94a3b8; line-height: 1.5; margin-bottom: 1rem; }

    /* TAGS E ICONOS */
    .tech-grid { display: flex; flex-direction: column; gap: 1.2rem; margin-top: auto; }
    .tags, .tags-cloud { display: flex; flex-wrap: wrap; gap: 0.6rem; }
    
    .tech-tag {
        display: flex; align-items: center; gap: 6px;
        font-size: 0.75rem; color: #cbd5e1;
        background: rgba(255, 255, 255, 0.03);
        padding: 0.4rem 0.8rem; border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-family: monospace;
    }
    .tech-tag svg { width: 14px; height: 14px; fill: currentColor; }

    /* LISTA MOBILE */
    .tech-list { display: flex; flex-direction: column; gap: 1rem; margin-top: auto; }
    .tech-row { display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 0.8rem; }
    .list-icon { width: 16px; height: 16px; fill: #94a3b8; margin-right: 8px; }

    .glow-border {
        position: absolute; inset: 0; border-radius: 12px; padding: 1px;
        background: linear-gradient(135deg, #38bdf8, #a78bfa, transparent 60%);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor; mask-composite: exclude; opacity: 0; transition: opacity 0.4s ease;
    }
    .bento-item:hover .glow-border { opacity: 1; }

    /* --- RESPONSIVE FIXES --- */
    @media (max-width: 1024px) {
        .bento-grid { 
            grid-template-columns: repeat(2, 1fr); 
            grid-template-rows: auto; 
        }
        .item-fullstack, .item-mobile { grid-column: span 2; }
    }

    @media (max-width: 768px) {
        /* En móvil, evitamos desplazamientos laterales que rompen el layout */
        .from-left, .from-right { 
            transform: translateY(40px) scale(0.98); 
        }

        .bento-grid { 
            grid-template-columns: 1fr; 
            gap: 1rem;
        }

        .bento-item { 
            padding: 1.5rem; 
            min-height: auto; 
        }
        
        .item-fullstack, .item-mobile, .item-infra, .item-tools { 
            grid-column: span 1; 
            grid-row: auto; 
        }
    }
</style>